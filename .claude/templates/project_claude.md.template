# {project_name}

This project uses **beads** for feature/issue tracking and **Ralph artifacts** for session continuity.

## ⚠️ MANDATORY WORKFLOW - NEVER SKIP

**You MUST follow this workflow. It is NOT optional.**

### Session Flow

```
1. READ ARTIFACTS        → cat AGENTS.md; cat IMPLEMENTATION_PLAN.md
2. GET FEATURE           → beads_client ready
3. CLAIM IT              → beads_client update <id> --status=in_progress
4. GAP ANALYSIS          → What exists vs what's needed?
5. PLAN                  → Create/update IMPLEMENTATION_PLAN.md
6. IMPLEMENT             → Follow the plan
7. VALIDATE              → npm run lint && npm run typecheck (MUST PASS)
8. CLOSE                 → beads_client close <id>
9. UPDATE ARTIFACTS      → Archive plan, update discoveries
10. COMMIT + EXIT        → git commit && beads_client sync
```

**Skipping `--status=in_progress` breaks the UI monitoring. NEVER skip it.**
**Features CANNOT be closed until validation passes.**

---

## Ralph Artifacts (Session Continuity)

These files persist knowledge across sessions. **READ THEM FIRST.**

| Artifact | Purpose | Created By |
|----------|---------|------------|
| `AGENTS.md` | Operational guide: commands, patterns, gotchas | Initializer |
| `IMPLEMENTATION_PLAN.md` | Current feature: gap analysis, task breakdown | Coding Agent |
| `IMPLEMENTATION_HISTORY.md` | Archive of completed feature plans | Coding Agent |

### AGENTS.md

Contains operational knowledge that EVERY session should read:
- Commands (how to lint, test, build)
- Project structure
- Code patterns and conventions
- Gotchas and workarounds

### IMPLEMENTATION_PLAN.md

Contains the plan for the CURRENT feature:
- Gap analysis (what exists vs what's needed)
- Task breakdown (specific steps)
- Blockers encountered
- Discoveries made during implementation

This file is **overwritten for each feature** and archived to IMPLEMENTATION_HISTORY.md when complete.

### Size Limits

- **AGENTS.md**: Keep under 100 lines. Consolidate instead of endlessly appending.
- **IMPLEMENTATION_HISTORY.md**: Only read last 50-100 lines for context. Full history is for human review.

## Workflow

### Starting Work

1. Check what's ready to work on:
   ```bash
   beads_client ready
   ```

2. Pick a feature and view details:
   ```bash
   beads_client show <feature-id>
   ```

3. **REQUIRED: Mark the feature as in_progress BEFORE starting any work:**
   ```bash
   beads_client update <feature-id> --status=in_progress
   ```
   This step is MANDATORY. It allows the UI to show what you're currently working on.

### Implementing Features

**After marking in_progress:**
1. Create/update IMPLEMENTATION_PLAN.md with gap analysis + task breakdown
2. Follow the tasks in your plan
3. Update discoveries in IMPLEMENTATION_PLAN.md as you work
4. Test the implementation

### Completing Features (Validation Required)

**Before closing, validation MUST pass:**

```bash
# Run all validation (check AGENTS.md for project-specific commands)
npm run lint
npm run typecheck

# Only after validation passes:
beads_client close <feature-id>
```

**If validation fails, FIX THE ISSUES before closing.**

Check overall progress:
```bash
beads_client stats
```

### If Blocked

If you encounter a blocker:
```bash
beads_client update <feature-id> --status=blocked
beads_client comments <feature-id> --add "Blocked because: <reason>"
```

Then move to the next available feature with `beads_client ready`.

## Beads Quick Reference

| Command | Description |
|---------|-------------|
| `beads_client ready` | List features ready to work on |
| `beads_client show <id>` | View feature details |
| `beads_client list --status=open` | List all open features |
| `beads_client list --status=in_progress` | List features being worked on |
| `beads_client update <id> --status=in_progress` | Claim a feature |
| `beads_client close <id>` | Mark feature as complete |
| `beads_client stats` | Show progress statistics |
| `beads_client comments <id> --add "..."` | Add a comment to a feature |

## Project Guidelines

- **Read AGENTS.md first** - It contains commands, patterns, and gotchas
- **Plan before coding** - Create IMPLEMENTATION_PLAN.md with task breakdown
- **Validate before closing** - Lint/typecheck MUST pass
- **Update artifacts** - Log discoveries to AGENTS.md
- Follow existing code patterns and conventions
- Commit changes with descriptive messages
- One feature at a time - complete or skip before moving on
